void rotate_bins(voting_bins *bins, float best_x,
						float best_y, float best_z,
						float *r_dir_x, float *r_dir_y,
						float *r_dir_z)
{
	if(best_x==0.0f, best_y==0.0f, best_z==-1.0f){
		for(uint8_t i=0; i<bins->size; i++){
			bins->x[i] = r_dir_x[i];
			bins->y[i] = r_dir_y[i];
			bins->z[i] = r_dir_z[i];
		}
	}
	else{
		// store cosine and sine
		float c = -best_z;
		float s = maths_fast_sqrt(1 - SQR(c));

		// store axis
		float u_x = 1.0f*best_y;
		float u_y = -1.0f * best_x;
		float u_z = 0.0f;
		normalize(&u_x, &u_y, &u_z);

		// compute rotation matrix
		float R[9];
		aa2mat(R, u_x, u_y, u_z, c, s);

		// compute rotated refined bins
		for(uint8_t i=0; i<bins->size; i++){
			bins->x[i] = r_dir_x[i]*R[0]+r_dir_y[i]*R[1]
							+r_dir_z[i]*R[2];
			bins->y[i] = r_dir_x[i]*R[3]+r_dir_y[i]*R[4]
							+r_dir_z[i]*R[5];
			bins->z[i] = r_dir_x[i]*R[6]+r_dir_y[i]*R[7]
							+r_dir_z[i]*R[8];
		}
	}
}
